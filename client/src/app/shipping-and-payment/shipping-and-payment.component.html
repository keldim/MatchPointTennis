<div class="container">

    <div *ngIf="shoppingAndPaymentInfo != null">
      <h4 class="mb-3">Shipping</h4>
      <form [formGroup]="shippingAndPaymentForm">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="firstName">First name</label>

            <input type="text" class="form-control" id="firstName" formControlName="firstName">
            <span *ngIf="shippingAndPaymentForm.get('firstName').hasError('required')" class="validator-message">
              This field is required
            </span>
            <span *ngIf="shippingAndPaymentForm.get('firstName').hasError('pattern')" class="validator-message">
              Enter valid name, at least two characters are required
            </span>
          </div>
          <div class="col-md-6 mb-3">
            <label for="lastName">Last name</label>
            <input type="text" class="form-control" id="lastName" formControlName="lastName">
            <span *ngIf="shippingAndPaymentForm.get('lastName').hasError('required')" class="validator-message">
              This field is required
            </span>
            <span *ngIf="shippingAndPaymentForm.get('lastName').hasError('pattern')" class="validator-message">
              Enter valid name, at least two characters are required
            </span>
          </div>
        </div>


        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" formControlName="email">
            <span *ngIf="shippingAndPaymentForm.get('email').hasError('required')" class="validator-message">
              This field is required
            </span>
            <span *ngIf="shippingAndPaymentForm.get('email').hasError('pattern')" class="validator-message">
              Enter valid email address
            </span>
          </div>
          <div class="col-md-6 mb-3">
            <label for="phoneNumber">Phone Number</label>
              <input type="text" class="form-control" id="phoneNumber" formControlName="phoneNumber">
              <span *ngIf="shippingAndPaymentForm.get('phoneNumber').hasError('required')" class="validator-message">
                This field is required
              </span>
              <span *ngIf="shippingAndPaymentForm.get('phoneNumber').hasError('pattern')" class="validator-message">
                Enter valid 10 digit phone number, only enter numbers
              </span>
          </div>
        </div>






        <div class="mb-3">
          <label for="address">Address</label>
          <input type="text" class="form-control" id="address" placeholder="1234 Main St" formControlName="address1">
          <span *ngIf="shippingAndPaymentForm.get('address1').hasError('required')" class="validator-message">
            This field is required
          </span>
          <span *ngIf="shippingAndPaymentForm.get('address1').hasError('pattern')" class="validator-message">
            This field is required
          </span>
        </div>

        <div class="mb-3">
          <label for="address2">Address 2 <span class="text-muted">(Optional)</span></label>
          <input type="text" class="form-control" id="address2" placeholder="Apartment or suite" formControlName="address2">
        </div>

        <div class="row">
          <div class="col-md-5 mb-3">
            <label for="city">City</label>
            <input type="text" class="form-control" id="city" placeholder="" formControlName="city">
            <span *ngIf="shippingAndPaymentForm.get('city').hasError('required')" class="validator-message">
              This field is required
            </span>
            <span *ngIf="shippingAndPaymentForm.get('city').hasError('pattern')" class="validator-message">
              This field is required
            </span>
          </div>
          <div class="col-md-4 mb-3">
            <label for="state">State</label>
            <select class="custom-select d-block w-100" id="state" formControlName="state">
              <option value="">Choose...</option>
              <option *ngFor="let state of stateList" value="{{ state }}">{{ state }}</option>
            </select>
            <span *ngIf="shippingAndPaymentForm.get('state').hasError('required')" class="validator-message">
              This field is required
            </span>
          </div>
          <div class="col-md-3 mb-3">
            <label for="zip">Zip</label>
            <input type="text" class="form-control" id="zip" placeholder="" formControlName="zipcode">
            <span *ngIf="shippingAndPaymentForm.get('zipcode').hasError('required')" class="validator-message">
              This field is required
            </span>
            <span *ngIf="shippingAndPaymentForm.get('zipcode').hasError('pattern')" class="validator-message">
              Format: '12345', '12345-6789', '12345 1234'
            </span>
          </div>
        </div>
        <hr class="mb-4">

        <h4 class="mb-3">Payment</h4>
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="cc-number">Credit card number <span class="text-muted">(Visa, Mastercard, American Express, Discover)</span></label>
            <input type="text" class="form-control" id="cc-number" formControlName="cardNumber">
            <span *ngIf="shippingAndPaymentForm.get('cardNumber').hasError('required')" class="validator-message">
              This field is required
            </span>
            <span *ngIf="shippingAndPaymentForm.get('cardNumber').hasError('pattern')" class="validator-message">
              Enter valid card number, only enter numbers
            </span>
          </div>
          <div class="col-md-6 mb-3">
            <label for="cc-cvc">CVC</label>
            <input type="text" class="form-control" id="cc-cvc" formControlName="cvc">
            <span *ngIf="shippingAndPaymentForm.get('cvc').hasError('required')" class="validator-message">
              This field is required
            </span>
            <span *ngIf="shippingAndPaymentForm.get('cvc').hasError('pattern')" class="validator-message">
              Enter valid cvc
            </span>
          </div>
        </div>
        <div class="row" formGroupName="expGroup">
          <div class="col-md-6 mb-3">
            <label for="cc-month">Expiration Month</label>
            <input type="text" class="form-control" id="cc-month" formControlName="expMonth">
            <span *ngIf="shippingAndPaymentForm.get('expGroup').get('expMonth').hasError('required')" class="validator-message">
              This field is required
            </span>
            <span *ngIf="shippingAndPaymentForm.get('expGroup').get('expMonth').hasError('pattern')" class="validator-message">
              Enter valid month: 01, 02, 03... 12
            </span>
            <span *ngIf="shippingAndPaymentForm.get('expGroup').hasError('expired')" class="validator-message">
              The card is expired
            </span>
          </div>
          <div class="col-md-6 mb-3">
            <label for="cc-year">Expiration Year</label>
            <input type="text" class="form-control" id="cc-year" formControlName="expYear">
            <span *ngIf="shippingAndPaymentForm.get('expGroup').get('expYear').hasError('required')" class="validator-message">
              This field is required
            </span>
            <span *ngIf="shippingAndPaymentForm.get('expGroup').get('expYear').hasError('pattern')" class="validator-message">
              Enter valid four digit year
            </span>
            <span *ngIf="shippingAndPaymentForm.get('expGroup').hasError('expired')" class="validator-message">
              The card is expired
            </span>
          </div>
        </div>
        <hr class="mb-4">
        <span class="d-flex justify-content-center">
          <button class="btn btn-danger btn-lg left-button" type="submit" (click)="cancelAndCleanUp()">Cancel</button>
          <button class="btn btn-primary btn-lg right-button" type="submit" (click)="sendInfo()" [disabled]="!shippingAndPaymentForm.valid">Continue</button>
        </span>
      </form>
    </div>
</div>
